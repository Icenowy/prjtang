Bitstream format
================

Basic Structure
----------------

Bitstream file starts with comment section, that contains plain text with metadata about project.
It finishes with empty line.

**Example:**

.. code-block:: none

  # Anlogic Infotech Corporation ASCII Bitstream
  # Version: 4.2.885
  # Design name: system
  # Architecture: eagle_s20
  # Package: BG256
  # Date: 2018/11/14 10:50
  # Bitstream CRC: 0111010001100000
  # USER CODE: 00000000000000000000000000000000

After that data is packed in blocks. Before each block there is a 16 bit big-endian value containing size in bits of block data.

**Example:**

+-------+-----------------------------------+
| Size  |  Data                             |
+=======+===================================+
| 0080  | ffffffffffffffffffffffffffffffff  |
+-------+-----------------------------------+
| 0080  | ffffffffffffffffffffffffffffffff  |
+-------+-----------------------------------+
| 0020  | cc55aa33                          |
+-------+-----------------------------------+
| 0050  | f00000060a014c35a3bd              |
+-------+-----------------------------------+
| 0050  | c20000066900050089a5              |
+-------+-----------------------------------+

First three blocks are presenting bitstream start signature. Data also finish with thwo all-ff blocks.

+---------+------+------+----------------------+------------------------------------------------------------------+
| Command | Flag | Size | Data (CRC if flag 0) | Description                                                      |
+=========+======+======+======================+==================================================================+
| f0      | 00   | 0006 | 0a014c35   a3bd      |  Device ID                                                       |
+---------+------+------+----------------------+------------------------------------------------------------------+
| c2      | 00   | 0006 | 69000500   89a5      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| c3      | 00   | 0006 | d0b04bb0   43f3      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| c7      | 00   | 0006 | 04eb01e8   2ac6      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| c8      | 00   | 0006 | 00000480   9888      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| c1      | 00   | 0006 | 00000000   13be      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| ca      | 00   | 0006 | 00000000   a384      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| c5      | 00   | 0006 | 00000038   c333      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| f1      | 00   | 0004 | 000000     78af      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| f3      | 00   | 00a0 | xxxxxxxx   xxxx      |                                                                  |
+---------+------+------+----------------------+------------------------------------------------------------------+
| ec      | f0   | 0001 |                      | This is number of blocks to follow + 1 block of 78 zeros         |
+---------+------+------+----------------------+------------------------------------------------------------------+
| f7      | 00   | 0004 | 000000     e8aa      | Done                                                             |
+---------+------+------+----------------------+------------------------------------------------------------------+

CRC algorithm used is: CRC-16/BUYPASS

